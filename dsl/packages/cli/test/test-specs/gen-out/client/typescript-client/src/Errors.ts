// Generated by RSD - Do not modify
import type { RSDError } from './_result-utils.js';
import { checkProp, isNumber, isRecord, isString } from './_type-utils.js';

const errorTypes = new Set(['_Native', '_Status', 'SampleError']);

export type ErrorType = '_Native' | '_Status' | 'SampleError';

export function isKnownRSDError(value: unknown): value is RSDError<ErrorType> {
	return (
		isRecord(value) &&
		checkProp(value, '_type', isString, errorTypes.has.bind(errorTypes))
	);
}

export type NativeRSDError = RSDError<'_Native'> & {
	error: Error;
	message: string;
};

export type StatusRSDError = RSDError<'_Status'> & {
	status: number;
	message: string;
};

export type SampleErrorError = RSDError<'SampleError'> & { message: string };

export function isNativeError(value: unknown): value is NativeRSDError {
	return (
		isRecord(value) &&
		checkProp(value, '_type', (v) => v === '_Native') &&
		checkProp(value, 'message', isString) &&
		checkProp(value, 'error', (v) => v instanceof Error)
	);
}

export function isStatusError(value: unknown): value is StatusRSDError {
	return (
		isRecord(value) &&
		checkProp(value, '_type', (v) => v === '_Status') &&
		checkProp(value, 'message', isString) &&
		checkProp(value, 'status', isNumber)
	);
}

export function isSampleErrorError(value: unknown): value is SampleErrorError {
	return (
		isRecord(value) &&
		checkProp(value, '_type', v => v === 'SampleError') &&
		checkProp(value, 'message', isString)
	);
}
