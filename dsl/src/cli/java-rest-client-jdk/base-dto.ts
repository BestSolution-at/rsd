import { expandToString } from "langium/generate";

import { Artifact } from "../artifact-generator.js";
import { JavaRestClientJDKGeneratorConfig, toPath } from "../java-gen-utils.js";

export function generateBaseDTO(
  artifactConfig: JavaRestClientJDKGeneratorConfig
): Artifact {
  const packageName = `${artifactConfig.rootPackageName}.jdkhttp.impl.dto`;

  const content = expandToString`
        // Generated by RSD - Do not modify
        package ${packageName};

        import jakarta.json.JsonObject;

        public abstract class BaseDTOImpl {
            public final JsonObject data;

            public BaseDTOImpl(JsonObject data) {
                this.data = data;
            }
        }
    `;
  return {
    name: "BaseDTOImpl.java",
    content,
    path: toPath(artifactConfig.targetFolder, packageName),
  };
}
