// Generated by RSD - Do not modify
package dev.rsdlang.sample.server.rest;

import java.util.List;
import java.util.Optional;

import jakarta.enterprise.context.ApplicationScoped;
import jakarta.inject.Inject;
import jakarta.ws.rs.Consumes;
import jakarta.ws.rs.core.MediaType;
import jakarta.ws.rs.core.Response;
import jakarta.ws.rs.GET;
import jakarta.ws.rs.Path;
import jakarta.ws.rs.POST;
import jakarta.ws.rs.Produces;
import jakarta.ws.rs.PUT;

import dev.rsdlang.sample.server.rest.model._JsonUtils;
import dev.rsdlang.sample.server.rest.model._NillableImpl;
import dev.rsdlang.sample.server.rest.model.BinaryTypesUploadMixedDataImpl;
import dev.rsdlang.sample.server.rest.model.BinaryTypesUploadMixedNilDataImpl;
import dev.rsdlang.sample.server.rest.model.BinaryTypesUploadMixedOptDataImpl;
import dev.rsdlang.sample.server.rest.model.BinaryTypesUploadMixedOptNilDataImpl;
import dev.rsdlang.sample.server.service.BinaryTypesService;
import dev.rsdlang.sample.server.service.model.RSDBlob;
import dev.rsdlang.sample.server.service.model.RSDFile;
import org.jboss.resteasy.reactive.multipart.FileUpload;
import org.jboss.resteasy.reactive.RestForm;

@ApplicationScoped
@Path("/api/binarytypes")
@Produces(MediaType.APPLICATION_JSON)
public class BinaryTypesResource {
	private final RestBuilderFactory builderFactory;
	private final BinaryTypesService service;
	private final BinaryTypesResourceResponseBuilder responseBuilder;

	@Inject
	public BinaryTypesResource(BinaryTypesService service, BinaryTypesResourceResponseBuilder responseBuilder, RestBuilderFactory builderFactory) {
		this.builderFactory = builderFactory;
		this.service = service;
		this.responseBuilder = responseBuilder;
	}

	@GET
	@Path("downloadFile")
	public Response downloadFile() {
		var result = service.downloadFile(builderFactory);
		return responseBuilder.downloadFile(result).build();
	}

	@GET
	@Path("downloadBlob")
	public Response downloadBlob() {
		var result = service.downloadBlob(builderFactory);
		return responseBuilder.downloadBlob(result).build();
	}

	@POST
	@Path("uploadFile")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFile(@RestForm("data") FileUpload _data) {
		var data = builderFactory.createFile(_data.filePath(), _data.contentType(), _data.fileName());
		var result = service.uploadFile(builderFactory, data);
		return responseBuilder.uploadFile(result, data).build();
	}
	@POST
	@Path("uploadFileOpt")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileOpt(@RestForm("data") FileUpload _data) {
		var data = _data != null ? Optional.of(builderFactory.createFile(_data.filePath(), _data.contentType(), _data.fileName())) : Optional.<RSDFile>empty();
		var result = service.uploadFileOpt(builderFactory, data);
		return responseBuilder.uploadFileOpt(result, data).build();
	}
	@POST
	@Path("uploadFileNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileNil(@RestForm("data") FileUpload _data) {
		var data = _data != null ? Optional.of(builderFactory.createFile(_data.filePath(), _data.contentType(), _data.fileName())) : Optional.<RSDFile>empty();
		var result = service.uploadFileNil(builderFactory, data);
		return responseBuilder.uploadFileNil(result, data).build();
	}
	@POST
	@Path("uploadFileOptNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileOptNil(@RestForm("data") FileUpload _data, @RestForm("_rsdNull-data") boolean $isDataNull) {
		var data = _data == null ? ($isDataNull ? _NillableImpl.<RSDFile>nill() : _NillableImpl.<RSDFile>undefined()) : _NillableImpl.of(builderFactory.createFile(_data.filePath(), _data.contentType(), _data.fileName()));
		var result = service.uploadFileOptNil(builderFactory, data);
		return responseBuilder.uploadFileOptNil(result, data).build();
	}
	@POST
	@Path("uploadBlob")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlob(@RestForm("data") FileUpload _data) {
		var data = builderFactory.createBlob(_data.filePath(), _data.contentType());
		var result = service.uploadBlob(builderFactory, data);
		return responseBuilder.uploadBlob(result, data).build();
	}
	@POST
	@Path("uploadBlobOpt")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobOpt(@RestForm("data") FileUpload _data) {
		var data = _data != null ? Optional.of(builderFactory.createBlob(_data.filePath(), _data.contentType())) : Optional.<RSDBlob>empty();
		var result = service.uploadBlobOpt(builderFactory, data);
		return responseBuilder.uploadBlobOpt(result, data).build();
	}
	@POST
	@Path("uploadBlobNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobNil(@RestForm("data") FileUpload _data) {
		var data = _data != null ? Optional.of(builderFactory.createBlob(_data.filePath(), _data.contentType())) : Optional.<RSDBlob>empty();
		var result = service.uploadBlobNil(builderFactory, data);
		return responseBuilder.uploadBlobNil(result, data).build();
	}
	@POST
	@Path("uploadBlobOptNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobOptNil(@RestForm("data") FileUpload _data, @RestForm("_rsdNull-data") boolean $isDataNull) {
		var data = _data == null ? ($isDataNull ? _NillableImpl.<RSDBlob>nill() : _NillableImpl.<RSDBlob>undefined()) : _NillableImpl.of(builderFactory.createBlob(_data.filePath(), _data.contentType()));
		var result = service.uploadBlobOptNil(builderFactory, data);
		return responseBuilder.uploadBlobOptNil(result, data).build();
	}
	@PUT
	@Path("uploadFileList")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileList(@RestForm("data") List<FileUpload> _data) {
		var data = _data.stream().map($e -> builderFactory.createFile($e.filePath(), $e.contentType(), $e.fileName())).toList();
		var result = service.uploadFileList(builderFactory, data);
		return responseBuilder.uploadFileList(result, data).build();
	}
	@PUT
	@Path("uploadFileListOpt")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileListOpt(@RestForm("data") List<FileUpload> _data) {
		var data = _data == null || _data.isEmpty() ? Optional.<List<RSDFile>>empty() : Optional.of(_data.stream().map($e -> builderFactory.createFile($e.filePath(), $e.contentType(), $e.fileName())).toList());
		var result = service.uploadFileListOpt(builderFactory, data);
		return responseBuilder.uploadFileListOpt(result, data).build();
	}
	@PUT
	@Path("uploadFileListNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileListNil(@RestForm("data") List<FileUpload> _data) {
		var data = _data == null || _data.isEmpty() ? Optional.<List<RSDFile>>empty() : Optional.of(_data.stream().map($e -> builderFactory.createFile($e.filePath(), $e.contentType(), $e.fileName())).toList());
		var result = service.uploadFileListNil(builderFactory, data);
		return responseBuilder.uploadFileListNil(result, data).build();
	}
	@PUT
	@Path("uploadFileListOptNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadFileListOptNil(@RestForm("data") List<FileUpload> _data, @RestForm("_rsdNull-data") boolean $isDataNull) {
		var data = _data == null || _data.isEmpty() ? ($isDataNull ? _NillableImpl.<List<RSDFile>>nill() : _NillableImpl.<List<RSDFile>>undefined()) : _NillableImpl.of(_data.stream().map($e -> builderFactory.createFile($e.filePath(), $e.contentType(), $e.fileName())).toList());
		var result = service.uploadFileListOptNil(builderFactory, data);
		return responseBuilder.uploadFileListOptNil(result, data).build();
	}
	@PUT
	@Path("uploadBlobList")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobList(@RestForm("data") List<FileUpload> _data) {
		var data = _data.stream().map($e -> builderFactory.createBlob($e.filePath(), $e.contentType())).toList();
		var result = service.uploadBlobList(builderFactory, data);
		return responseBuilder.uploadBlobList(result, data).build();
	}
	@PUT
	@Path("uploadBlobListOpt")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobListOpt(@RestForm("data") List<FileUpload> _data) {
		var data = _data == null || _data.isEmpty() ? Optional.<List<RSDBlob>>empty() : Optional.of(_data.stream().map($e -> builderFactory.createBlob($e.filePath(), $e.contentType())).toList());
		var result = service.uploadBlobListOpt(builderFactory, data);
		return responseBuilder.uploadBlobListOpt(result, data).build();
	}
	@PUT
	@Path("uploadBlobListNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobListNil(@RestForm("data") List<FileUpload> _data) {
		var data = _data == null || _data.isEmpty() ? Optional.<List<RSDBlob>>empty() : Optional.of(_data.stream().map($e -> builderFactory.createBlob($e.filePath(), $e.contentType())).toList());
		var result = service.uploadBlobListNil(builderFactory, data);
		return responseBuilder.uploadBlobListNil(result, data).build();
	}
	@PUT
	@Path("uploadBlobListOptNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadBlobListOptNil(@RestForm("data") List<FileUpload> _data, @RestForm("_rsdNull-data") boolean $isDataNull) {
		var data = _data == null || _data.isEmpty() ? ($isDataNull ? _NillableImpl.<List<RSDBlob>>nill() : _NillableImpl.<List<RSDBlob>>undefined()) : _NillableImpl.of(_data.stream().map($e -> builderFactory.createBlob($e.filePath(), $e.contentType())).toList());
		var result = service.uploadBlobListOptNil(builderFactory, data);
		return responseBuilder.uploadBlobListOptNil(result, data).build();
	}
	@PUT
	@Path("uploadMixed")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadMixed(@RestForm("_rsdPayload") String $_payload, @RestForm("dataFile") FileUpload _dataFile, @RestForm("dataBlob") FileUpload _dataBlob) {
		var $payload = _JsonUtils.parseObject($_payload, BinaryTypesUploadMixedDataImpl::new);
		var text = $payload.text();
		var number = $payload.number();
		var rec = $payload.rec();
		var textList = $payload.textList();
		var numberList = $payload.numberList();
		var recList = $payload.recList();
		var dataFile = builderFactory.createFile(_dataFile.filePath(), _dataFile.contentType(), _dataFile.fileName());
		var dataBlob = builderFactory.createBlob(_dataBlob.filePath(), _dataBlob.contentType());
		var result = service.uploadMixed(builderFactory, text, number, rec, textList, numberList, recList, dataFile, dataBlob);
		return responseBuilder.uploadMixed(result, text, number, rec, textList, numberList, recList, dataFile, dataBlob).build();
	}
	@PUT
	@Path("uploadMixedOpt")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadMixedOpt(@RestForm("_rsdPayload") String $_payload, @RestForm("dataFile") FileUpload _dataFile, @RestForm("dataBlob") FileUpload _dataBlob) {
		var $payload = _JsonUtils.parseObject($_payload, BinaryTypesUploadMixedOptDataImpl::new);
		var text = $payload.text();
		var number = $payload.number();
		var rec = $payload.rec();
		var textList = $payload.textList();
		var numberList = $payload.numberList();
		var recList = $payload.recList();
		var dataFile = _dataFile != null ? Optional.of(builderFactory.createFile(_dataFile.filePath(), _dataFile.contentType(), _dataFile.fileName())) : Optional.<RSDFile>empty();
		var dataBlob = _dataBlob != null ? Optional.of(builderFactory.createBlob(_dataBlob.filePath(), _dataBlob.contentType())) : Optional.<RSDBlob>empty();
		var result = service.uploadMixedOpt(builderFactory, text, number, rec, textList, numberList, recList, dataFile, dataBlob);
		return responseBuilder.uploadMixedOpt(result, text, number, rec, textList, numberList, recList, dataFile, dataBlob).build();
	}
	@PUT
	@Path("uploadMixedNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadMixedNil(@RestForm("_rsdPayload") String $_payload, @RestForm("dataFile") FileUpload _dataFile, @RestForm("dataBlob") FileUpload _dataBlob) {
		var $payload = _JsonUtils.parseObject($_payload, BinaryTypesUploadMixedNilDataImpl::new);
		var text = $payload.text();
		var number = $payload.number();
		var rec = $payload.rec();
		var textList = $payload.textList();
		var numberList = $payload.numberList();
		var recList = $payload.recList();
		var dataFile = _dataFile != null ? Optional.of(builderFactory.createFile(_dataFile.filePath(), _dataFile.contentType(), _dataFile.fileName())) : Optional.<RSDFile>empty();
		var dataBlob = _dataBlob != null ? Optional.of(builderFactory.createBlob(_dataBlob.filePath(), _dataBlob.contentType())) : Optional.<RSDBlob>empty();
		var result = service.uploadMixedNil(builderFactory, text, number, rec, textList, numberList, recList, dataFile, dataBlob);
		return responseBuilder.uploadMixedNil(result, text, number, rec, textList, numberList, recList, dataFile, dataBlob).build();
	}
	@PUT
	@Path("uploadMixedOptNil")
	@Consumes(MediaType.MULTIPART_FORM_DATA)
	public Response uploadMixedOptNil(@RestForm("_rsdPayload") String $_payload, @RestForm("dataFile") FileUpload _dataFile, @RestForm("dataBlob") FileUpload _dataBlob, @RestForm("_rsdNull-dataFile") boolean $isDataFileNull, @RestForm("_rsdNull-dataBlob") boolean $isDataBlobNull) {
		var $payload = _JsonUtils.parseObject($_payload, BinaryTypesUploadMixedOptNilDataImpl::new);
		var text = $payload.text();
		var number = $payload.number();
		var rec = $payload.rec();
		var textList = $payload.textList();
		var numberList = $payload.numberList();
		var recList = $payload.recList();
		var dataFile = _dataFile == null ? ($isDataFileNull ? _NillableImpl.<RSDFile>nill() : _NillableImpl.<RSDFile>undefined()) : _NillableImpl.of(builderFactory.createFile(_dataFile.filePath(), _dataFile.contentType(), _dataFile.fileName()));
		var dataBlob = _dataBlob == null ? ($isDataBlobNull ? _NillableImpl.<RSDBlob>nill() : _NillableImpl.<RSDBlob>undefined()) : _NillableImpl.of(builderFactory.createBlob(_dataBlob.filePath(), _dataBlob.contentType()));
		var result = service.uploadMixedOptNil(builderFactory, text, number, rec, textList, numberList, recList, dataFile, dataBlob);
		return responseBuilder.uploadMixedOptNil(result, text, number, rec, textList, numberList, recList, dataFile, dataBlob).build();
	}
}
