// Generated by RSD - Do not modify
package dev.rsdlang.sample.server.rest.model;

import jakarta.json.JsonObject;

import dev.rsdlang.sample.server.service.model.PatchableUnion;

public abstract class PatchableUnionPatchImpl implements PatchableUnion.Patch {
	public static boolean isSupportedType(JsonObject obj) {
		var descriminator = obj.getString("@type");
		return switch (descriminator) {
			case "patch:union-a",
					"patch:union-b" ->
				true;
			default -> false;
		};
	}

	public static PatchableUnion.Patch of(JsonObject obj) {
		var descriminator = obj.getString("@type");
		return switch (descriminator) {
			case "patch:union-a" -> new PatchableUnionAPatchImpl(obj);
			case "patch:union-b" -> new PatchableUnionBPatchImpl(obj);
			default -> throw new IllegalArgumentException("Unexpected value: %s".formatted(descriminator));
		};
	}
}
