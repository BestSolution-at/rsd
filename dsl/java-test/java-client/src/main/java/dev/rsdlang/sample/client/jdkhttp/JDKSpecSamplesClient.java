// Generated by RSD - Do not modify
package dev.rsdlang.sample.client.jdkhttp;

import java.net.http.HttpClient;
import java.net.URI;
import java.nio.file.Path;
import java.util.function.BiFunction;
import java.util.function.Supplier;
import java.util.HashMap;
import java.util.Map;

import dev.rsdlang.sample.client.BaseService;
import dev.rsdlang.sample.client.BinaryTypesService;
import dev.rsdlang.sample.client.BodyParameterTypesService;
import dev.rsdlang.sample.client.HeaderParameterTypesService;
import dev.rsdlang.sample.client.jdkhttp.impl.BinaryTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.BodyParameterTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.HeaderParameterTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.ListBodyParameterTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.ListHeaderParameterTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.ListQueryParameterTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.ListSampleServiceServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model._BlobImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model._FileImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.EnumInlineRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.EnumRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.MixinRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableEnumInlineRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableEnumInlineRecordPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableEnumRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableEnumRecordPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_List_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_List_NullPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_List_Optional_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_List_Optional_NullPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_List_OptionalDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_List_OptionalPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_ListDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_ListPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_NullPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_Optional_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_Optional_NullPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_OptionalDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_Basic_OptionalPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_BasicDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecord_BasicPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecordOfRecordsDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecordOfRecordsPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecordPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecordWithUnionDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableRecordWithUnionPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableScalarRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableScalarRecordPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableUnionADataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableUnionAPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableUnionBDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.PatchableUnionBPatchImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.RecordOfRecordsDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.RecordWithUnionsDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.ScalarRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_List_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_List_Optional_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_List_OptionalDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_ListDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_Optional_NullDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_Basic_OptionalDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_BasicDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_KeyVersion_Int_IntDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecord_KeyVersionDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecordDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.UnionADataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.UnionBDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.model.UploadMixedResultDataImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.PathParameterTypeServiceServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.QueryParameterTypesServiceImpl;
import dev.rsdlang.sample.client.jdkhttp.impl.SampleServiceServiceImpl;
import dev.rsdlang.sample.client.ListBodyParameterTypesService;
import dev.rsdlang.sample.client.ListHeaderParameterTypesService;
import dev.rsdlang.sample.client.ListQueryParameterTypesService;
import dev.rsdlang.sample.client.ListSampleServiceService;
import dev.rsdlang.sample.client.model._Base;
import dev.rsdlang.sample.client.model.EnumInlineRecord;
import dev.rsdlang.sample.client.model.EnumRecord;
import dev.rsdlang.sample.client.model.MixinRecord;
import dev.rsdlang.sample.client.model.PatchableEnumInlineRecord;
import dev.rsdlang.sample.client.model.PatchableEnumRecord;
import dev.rsdlang.sample.client.model.PatchableRecord;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_List;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_List_Null;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_List_Optional;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_List_Optional_Null;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_Null;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_Optional;
import dev.rsdlang.sample.client.model.PatchableRecord_Basic_Optional_Null;
import dev.rsdlang.sample.client.model.PatchableRecordOfRecords;
import dev.rsdlang.sample.client.model.PatchableRecordWithUnion;
import dev.rsdlang.sample.client.model.PatchableScalarRecord;
import dev.rsdlang.sample.client.model.PatchableUnionA;
import dev.rsdlang.sample.client.model.PatchableUnionB;
import dev.rsdlang.sample.client.model.RecordOfRecords;
import dev.rsdlang.sample.client.model.RecordWithUnions;
import dev.rsdlang.sample.client.model.RSDBlob;
import dev.rsdlang.sample.client.model.RSDFile;
import dev.rsdlang.sample.client.model.ScalarRecord;
import dev.rsdlang.sample.client.model.SimpleRecord;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_List;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_List_Null;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_List_Optional;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_List_Optional_Null;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_Null;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_Optional;
import dev.rsdlang.sample.client.model.SimpleRecord_Basic_Optional_Null;
import dev.rsdlang.sample.client.model.SimpleRecord_KeyVersion;
import dev.rsdlang.sample.client.model.SimpleRecord_KeyVersion_Int_Int;
import dev.rsdlang.sample.client.model.UnionA;
import dev.rsdlang.sample.client.model.UnionB;
import dev.rsdlang.sample.client.model.UploadMixedResult;
import dev.rsdlang.sample.client.PathParameterTypeServiceService;
import dev.rsdlang.sample.client.QueryParameterTypesService;
import dev.rsdlang.sample.client.SampleServiceService;
import dev.rsdlang.sample.client.SpecSamplesClient;

public class JDKSpecSamplesClient implements SpecSamplesClient {
	private static Map<Class<?>, Supplier<Object>> BUILDER_CREATOR_MAP = new HashMap<>();
	private static Map<Class<?>, BiFunction<HttpClient, String, Object>> SERVICE_CREATOR_MAP = new HashMap<>();

	static {
		registerBuilderCreator(SimpleRecord_KeyVersion.DataBuilder.class, SimpleRecord_KeyVersionDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_KeyVersion_Int_Int.DataBuilder.class, SimpleRecord_KeyVersion_Int_IntDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord.DataBuilder.class, SimpleRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic.DataBuilder.class, SimpleRecord_BasicDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_Optional.DataBuilder.class, SimpleRecord_Basic_OptionalDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_Null.DataBuilder.class, SimpleRecord_Basic_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_Optional_Null.DataBuilder.class, SimpleRecord_Basic_Optional_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_List.DataBuilder.class, SimpleRecord_Basic_ListDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_List_Optional.DataBuilder.class, SimpleRecord_Basic_List_OptionalDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_List_Null.DataBuilder.class, SimpleRecord_Basic_List_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(SimpleRecord_Basic_List_Optional_Null.DataBuilder.class, SimpleRecord_Basic_List_Optional_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(EnumRecord.DataBuilder.class, EnumRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(EnumInlineRecord.DataBuilder.class, EnumInlineRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(ScalarRecord.DataBuilder.class, ScalarRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(RecordOfRecords.DataBuilder.class, RecordOfRecordsDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(RecordWithUnions.DataBuilder.class, RecordWithUnionsDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(UnionA.DataBuilder.class, UnionADataImpl.DataBuilderImpl::new);
		registerBuilderCreator(UnionB.DataBuilder.class, UnionBDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord.DataBuilder.class, PatchableRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic.DataBuilder.class, PatchableRecord_BasicDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_Optional.DataBuilder.class, PatchableRecord_Basic_OptionalDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_Null.DataBuilder.class, PatchableRecord_Basic_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_Optional_Null.DataBuilder.class, PatchableRecord_Basic_Optional_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List.DataBuilder.class, PatchableRecord_Basic_ListDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List_Optional.DataBuilder.class, PatchableRecord_Basic_List_OptionalDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List_Null.DataBuilder.class, PatchableRecord_Basic_List_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List_Optional_Null.DataBuilder.class, PatchableRecord_Basic_List_Optional_NullDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableEnumRecord.DataBuilder.class, PatchableEnumRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableEnumInlineRecord.DataBuilder.class, PatchableEnumInlineRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableScalarRecord.DataBuilder.class, PatchableScalarRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecordOfRecords.DataBuilder.class, PatchableRecordOfRecordsDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableRecordWithUnion.DataBuilder.class, PatchableRecordWithUnionDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableUnionA.DataBuilder.class, PatchableUnionADataImpl.DataBuilderImpl::new);
		registerBuilderCreator(PatchableUnionB.DataBuilder.class, PatchableUnionBDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(MixinRecord.DataBuilder.class, MixinRecordDataImpl.DataBuilderImpl::new);
		registerBuilderCreator(UploadMixedResult.DataBuilder.class, UploadMixedResultDataImpl.DataBuilderImpl::new);

		registerBuilderCreator(PatchableRecord.PatchBuilder.class, PatchableRecordPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic.PatchBuilder.class, PatchableRecord_BasicPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_Optional.PatchBuilder.class, PatchableRecord_Basic_OptionalPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_Null.PatchBuilder.class, PatchableRecord_Basic_NullPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_Optional_Null.PatchBuilder.class, PatchableRecord_Basic_Optional_NullPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List.PatchBuilder.class, PatchableRecord_Basic_ListPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List_Optional.PatchBuilder.class, PatchableRecord_Basic_List_OptionalPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List_Null.PatchBuilder.class, PatchableRecord_Basic_List_NullPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecord_Basic_List_Optional_Null.PatchBuilder.class, PatchableRecord_Basic_List_Optional_NullPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableEnumRecord.PatchBuilder.class, PatchableEnumRecordPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableEnumInlineRecord.PatchBuilder.class, PatchableEnumInlineRecordPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableScalarRecord.PatchBuilder.class, PatchableScalarRecordPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecordOfRecords.PatchBuilder.class, PatchableRecordOfRecordsPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableRecordWithUnion.PatchBuilder.class, PatchableRecordWithUnionPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableUnionA.PatchBuilder.class, PatchableUnionAPatchImpl.PatchBuilderImpl::new);
		registerBuilderCreator(PatchableUnionB.PatchBuilder.class, PatchableUnionBPatchImpl.PatchBuilderImpl::new);

		registerServiceCreator(SampleServiceService.class, SampleServiceServiceImpl::new);
		registerServiceCreator(ListSampleServiceService.class, ListSampleServiceServiceImpl::new);
		registerServiceCreator(PathParameterTypeServiceService.class, PathParameterTypeServiceServiceImpl::new);
		registerServiceCreator(BodyParameterTypesService.class, BodyParameterTypesServiceImpl::new);
		registerServiceCreator(HeaderParameterTypesService.class, HeaderParameterTypesServiceImpl::new);
		registerServiceCreator(QueryParameterTypesService.class, QueryParameterTypesServiceImpl::new);
		registerServiceCreator(ListBodyParameterTypesService.class, ListBodyParameterTypesServiceImpl::new);
		registerServiceCreator(ListQueryParameterTypesService.class, ListQueryParameterTypesServiceImpl::new);
		registerServiceCreator(ListHeaderParameterTypesService.class, ListHeaderParameterTypesServiceImpl::new);
		registerServiceCreator(BinaryTypesService.class, BinaryTypesServiceImpl::new);
	}

	private static void registerBuilderCreator(Class<?> clazz, Supplier<Object> constructor) {
		BUILDER_CREATOR_MAP.put(clazz, constructor);
	}

	private static void registerServiceCreator(Class<?> clazz, BiFunction<HttpClient, String, Object> constructor) {
		SERVICE_CREATOR_MAP.put(clazz, constructor);
	}

	private final URI baseURI;
	private final HttpClient httpClient;

	JDKSpecSamplesClient(URI baseURI, Supplier<HttpClient> httpClientSupplier) {
		this.baseURI = baseURI;
		this.httpClient = httpClientSupplier.get();
	}

	public static SpecSamplesClient create(URI baseURI) {
		return new JDKSpecSamplesClient(baseURI, HttpClient::newHttpClient);
	}

	public static SpecSamplesClient create(URI baseURI, Supplier<HttpClient> httpClientSupplier) {
		return new JDKSpecSamplesClient(baseURI, httpClientSupplier);
	}

	@SuppressWarnings("unchecked")
	@Override
	public <T extends _Base.BaseDataBuilder<?>> T builder(Class<T> clazz) {
		var builderConstructor = BUILDER_CREATOR_MAP.get(clazz);
		if (builderConstructor != null) {
			return (T) builderConstructor.get();
		}
		throw new IllegalArgumentException(String.format("Unsupported build '%s'", clazz));
	}

	@SuppressWarnings("unchecked")
	@Override
	public <T extends BaseService> T service(Class<T> clazz) {
		var serviceConstructor = SERVICE_CREATOR_MAP.get(clazz);
		if (serviceConstructor != null) {
			return (T) serviceConstructor.apply(this.httpClient, this.baseURI.toString());
		}
		throw new IllegalArgumentException(String.format("Unsupported service '%s'", clazz));
	}

	public RSDBlob creatBlob(Path file, String mimeType) {
		return _BlobImpl.of(file, mimeType);
	}

	public RSDFile creatFile(Path file, String mimeType, String filename) {
		return _FileImpl.of(file, mimeType, filename);
	}
}
