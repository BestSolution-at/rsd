// Generated by RSD - Do not modify
package dev.rsdlang.sample.client.jdkhttp.impl;

import java.io.IOException;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse.BodyHandlers;
import java.net.URI;
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.ZonedDateTime;
import java.time.ZoneId;
import java.util.Objects;

import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecordDataImpl;
import dev.rsdlang.sample.client.model.SampleEnum;
import dev.rsdlang.sample.client.model.SimpleRecord;
import dev.rsdlang.sample.client.SampleError2Exception;
import dev.rsdlang.sample.client.SampleErrorException;
import dev.rsdlang.sample.client.SampleServiceService;

public class SampleServiceServiceImpl implements SampleServiceService {
	private final String baseURI;
	private final HttpClient client;

	public SampleServiceServiceImpl(HttpClient client, String baseURI) {
		this.baseURI = baseURI;
		this.client = client;
	}

	public boolean getBoolean() {
		var $path = "%s/api/samplerecords/boolean".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapBoolean($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public short getShort() {
		var $path = "%s/api/samplerecords/short".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapShort($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public int getInt() {
		var $path = "%s/api/samplerecords/int".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapInt($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public long getLong() {
		var $path = "%s/api/samplerecords/long".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLong($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public float getFloat() {
		var $path = "%s/api/samplerecords/float".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapFloat($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public double getDouble() {
		var $path = "%s/api/samplerecords/double".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapDouble($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public String getString() {
		var $path = "%s/api/samplerecords/string".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapString($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public LocalDate getLocalDate() {
		var $path = "%s/api/samplerecords/localdate".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLocalDate($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public LocalDateTime getLocalDateTime() {
		var $path = "%s/api/samplerecords/localdatetime".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLocalDateTime($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public ZonedDateTime getZonedDateTime() {
		var $path = "%s/api/samplerecords/zoneddatetime".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapZonedDateTime($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public ZoneId getScalar() {
		var $path = "%s/api/samplerecords/scalar".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLiteral($response, ZoneId::of);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public SampleEnum getEnum() {
		var $path = "%s/api/samplerecords/enum".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLiteral($response, SampleEnum::valueOf);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public void voidOperation() {
		var $path = "%s/api/samplerecords/voidoperation".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 204) {
				return;
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public void errorOperation()
			throws SampleErrorException {
		var $path = "%s/api/samplerecords/erroroperation".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return;
			} else if ($response.statusCode() == 400) {
				throw new SampleErrorException(ServiceUtils.mapString($response));
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public void multiErrorOperation()
			throws SampleErrorException,
			SampleError2Exception {
		var $path = "%s/api/samplerecords/multierroroperation".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return;
			} else if ($response.statusCode() == 400) {
				throw new SampleErrorException(ServiceUtils.mapString($response));
			} else if ($response.statusCode() == 401) {
				throw new SampleError2Exception(ServiceUtils.mapString($response));
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public SimpleRecord.Data getSimpleRecord(String key) {
		Objects.requireNonNull(key, "key must not be null");

		var $path = "%s/api/samplerecords/simplerecord/%s".formatted(
				this.baseURI,
				key);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapObject($response, SimpleRecordDataImpl::of);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public SimpleRecord.Data getSimpleRecordWithError(String key)
			throws SampleErrorException {
		Objects.requireNonNull(key, "key must not be null");

		var $path = "%s/api/samplerecords/simplerecordwitherror/%s".formatted(
				this.baseURI,
				key);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapObject($response, SimpleRecordDataImpl::of);
			} else if ($response.statusCode() == 400) {
				throw new SampleErrorException(ServiceUtils.mapString($response));
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}
}
