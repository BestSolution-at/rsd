// Generated by RSD - Do not modify
package dev.rsdlang.sample.client.jdkhttp.impl;

import java.io.IOException;
import java.net.http.HttpClient;
import java.net.http.HttpRequest;
import java.net.http.HttpResponse.BodyHandlers;
import java.net.URI;
import java.time.LocalDate;
import java.time.LocalDateTime;
import java.time.ZonedDateTime;
import java.time.ZoneId;
import java.util.List;

import dev.rsdlang.sample.client.jdkhttp.impl.model.SimpleRecordDataImpl;
import dev.rsdlang.sample.client.ListSampleServiceService;
import dev.rsdlang.sample.client.model.SampleEnum;
import dev.rsdlang.sample.client.model.SimpleRecord;
import dev.rsdlang.sample.client.SampleErrorException;

public class ListSampleServiceServiceImpl implements ListSampleServiceService {
	private final String baseURI;
	private final HttpClient client;

	public ListSampleServiceServiceImpl(HttpClient client, String baseURI) {
		this.baseURI = baseURI;
		this.client = client;
	}

	public List<Boolean> listBoolean() {
		var $path = "%s/api/listsamplerecords/boolean".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapBooleans($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<Short> listShort() {
		var $path = "%s/api/listsamplerecords/short".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapShorts($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<Integer> listInt() {
		var $path = "%s/api/listsamplerecords/int".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapInts($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<Long> listLong() {
		var $path = "%s/api/listsamplerecords/long".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLongs($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<Float> listFloat() {
		var $path = "%s/api/listsamplerecords/float".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapFloats($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<Double> listDouble() {
		var $path = "%s/api/listsamplerecords/double".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapDoubles($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<String> listString() {
		var $path = "%s/api/listsamplerecords/string".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapStrings($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<LocalDate> listLocalDate() {
		var $path = "%s/api/listsamplerecords/localdate".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLocalDates($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<LocalDateTime> listLocalDateTime() {
		var $path = "%s/api/listsamplerecords/localdatetime".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLocalDateTimes($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<ZonedDateTime> listZonedDateTime() {
		var $path = "%s/api/listsamplerecords/zoneddatetime".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapZonedDateTimes($response);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<ZoneId> listScalar() {
		var $path = "%s/api/listsamplerecords/scalar".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLiterals($response, ZoneId::of);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<SampleEnum> listEnum() {
		var $path = "%s/api/listsamplerecords/enum".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapLiterals($response, SampleEnum::valueOf);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<SimpleRecord.Data> listSimpleRecord() {
		var $path = "%s/api/listsamplerecords/simplerecord".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapObjects($response, SimpleRecordDataImpl::of);
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}

	public List<SimpleRecord.Data> listSimpleRecordWithError()
			throws SampleErrorException {
		var $path = "%s/api/listsamplerecords/simplerecordwitherror".formatted(
				this.baseURI);

		var $uri = URI.create($path);
		try {
			var $request = HttpRequest.newBuilder()
					.uri($uri)
					.GET()
					.build();

			var $response = this.client.send($request, BodyHandlers.ofString());
			if ($response.statusCode() == 200) {
				return ServiceUtils.mapObjects($response, SimpleRecordDataImpl::of);
			} else if ($response.statusCode() == 400) {
				throw new SampleErrorException(ServiceUtils.mapString($response));
			}
			throw new IllegalStateException(String.format("Unsupported Http-Status '%s':\n%s", $response.statusCode(), $response.body()));
		} catch (IOException | InterruptedException e) {
			throw new IllegalStateException(e);
		}
	}
}
